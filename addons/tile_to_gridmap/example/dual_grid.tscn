[gd_scene load_steps=12 format=3 uid="uid://de46hsrs2tdlo"]

[ext_resource type="Script" uid="uid://b5kpycnmdx1ty" path="res://addons/tile_to_gridmap/dual_grid.gd" id="1_q8rij"]
[ext_resource type="Texture2D" uid="uid://1c1t0hj184o3" path="res://addons/tile_to_gridmap/example/tilemaps/terrain512_dg.png" id="2_7cncb"]
[ext_resource type="MeshLibrary" uid="uid://bn8uxevk2svbg" path="res://addons/tile_to_gridmap/example/gridmaps/scenes/library/dg_mesh_lib.tres" id="3_m0ei1"]
[ext_resource type="Script" uid="uid://ciehgvtmo83o2" path="res://addons/tile_to_gridmap/example/dual_grid_tilemap_2.gd" id="4_cepni"]
[ext_resource type="Script" uid="uid://b8h8ihduw0sow" path="res://addons/tile_to_gridmap/proc_gen_manager.gd" id="5_f0gw3"]
[ext_resource type="Script" uid="uid://cw28nt56a5y8y" path="res://addons/tile_to_gridmap/resources/terrain.gd" id="6_n47ax"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_m0ei1"]
texture = ExtResource("2_7cncb")
texture_region_size = Vector2i(8, 8)
1:1/0 = 0
1:1/0/custom_data_0 = "base"
1:1/0/custom_data_1 = -10
2:1/0 = 0
2:1/0/custom_data_0 = "grass"
3:1/0 = 0
3:1/0/custom_data_0 = "dirt"
4:1/0 = 0
4:1/0/custom_data_0 = "tilegrass"
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
8:1/0/custom_data_0 = "watergrass"
1:2/0 = 0

[sub_resource type="TileSet" id="TileSet_t0qsp"]
tile_size = Vector2i(8, 8)
custom_data_layer_0/name = "Name"
custom_data_layer_0/type = 4
custom_data_layer_1/name = "Height"
custom_data_layer_1/type = 2
custom_data_layer_2/name = "Exclude"
custom_data_layer_2/type = 4
sources/0 = SubResource("TileSetAtlasSource_m0ei1")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_e8r4o"]
seed = 900
fractal_octaves = 3
domain_warp_fractal_octaves = 1

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_r6bcw"]
noise = SubResource("FastNoiseLite_e8r4o")

[sub_resource type="Resource" id="Resource_cw00x"]
script = ExtResource("6_n47ax")
name = "grass"
noise_min = 0.0
noise_max = 1.0
tile_source_id = 0
metadata/_custom_type_script = "uid://cw28nt56a5y8y"

[node name="DualGrid" type="Node3D" node_paths=PackedStringArray("grid_map")]
script = ExtResource("1_q8rij")
grid_map = NodePath("GridMap")

[node name="DualGridTilemap2" type="TileMapLayer" parent="." node_paths=PackedStringArray("grid_map")]
tile_set = SubResource("TileSet_t0qsp")
script = ExtResource("4_cepni")
grid_map = NodePath("../GridMap")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("3_m0ei1")
cell_size = Vector3(1, 1, 1)

[node name="ProcGenManager" type="Node" parent="." node_paths=PackedStringArray("tile_map")]
script = ExtResource("5_f0gw3")
tile_map = NodePath("../DualGridTilemap2")
noise_height_texture = SubResource("NoiseTexture2D_r6bcw")
terrains = Array[ExtResource("6_n47ax")]([SubResource("Resource_cw00x")])
width = 128
height = 128
chunk_size = 32
